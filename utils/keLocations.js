// Kenya Counties and Constituencies
export const keLocations = {
    Nairobi: {
        constituencies: ['Westlands', 'Dagoretti North', 'Dagoretti South', 'Langata', 'Kibra', 'Roysambu', 'Kasarani', 'Ruaraka', 'Embakasi South', 'Embakasi North', 'Embakasi Central', 'Embakasi East', 'Embakasi West', 'Makadara', 'Kamukunji', 'Starehe', 'Mathare'],
        areas: {
            Westlands: ['Parklands', 'Highridge', 'Mountain View', 'Kangemi', 'Karura'],
            'Dagoretti North': ['Kilimani', 'Kawangware', 'Gatina', 'Kileleshwa', 'Kabiro'],
            'Dagoretti South': ['Mutuini', 'Ngando', 'Riruta', 'Uthiru', 'Waithaka'],
            Langata: ['Karen', 'Nairobi West', 'South C', 'Nyayo Highrise', 'Mugumo-ini'],
            Kibra: ['Laini Saba', 'Lindi', 'Makina', 'Woodley', 'Sarangombe'],
            Roysambu: ['Githurai', 'Kahawa West', 'Zimmerman', 'Roysambu', 'Kahawa'],
            Kasarani: ['Clay City', 'Mwiki', 'Kasarani', 'Njiru', 'Ruai'],
            Ruaraka: ['Babadogo', 'Utalii', 'Mathare North', 'Lucky Summer', 'Korogocho'],
            'Embakasi South': ['Imara Daima', 'Kwa Njenga', 'Kware', 'Pipeline', 'Kwa Reuben'],
            'Embakasi North': ['Kariobangi North', 'Dandora Area I', 'Dandora Area II', 'Dandora Area III', 'Dandora Area IV'],
            'Embakasi Central': ['Kayole North', 'Kayole Central', 'Kayole South', 'Komarock', 'Matopeni'],
            'Embakasi East': ['Upper Savanna', 'Lower Savanna', 'Embakasi', 'Utawala', 'Mihango'],
            'Embakasi West': ['Umoja I', 'Umoja II', 'Mowlem', 'Kariobangi South', 'Maringo'],
            Makadara: ['Maringo', 'Hamza', 'Harambee', 'Makongeni', 'Uhuru'],
            Kamukunji: ['Pumwani', 'Eastleigh North', 'Eastleigh South', 'Airbase', 'California'],
            Starehe: ['Nairobi Central', 'Ngara', 'Pangani', 'Ziwani', 'Kariokor', 'Huruma'],
            Mathare: ['Hospital', 'Mabatini', 'Huruma', 'Ngei', 'Mlango Kubwa', 'Kiamaiko']
        }
    },
    Mombasa: {
        constituencies: ['Changamwe', 'Jomvu', 'Kisauni', 'Nyali', 'Likoni', 'Mvita'],
        areas: {
            Changamwe: ['Changamwe', 'Kipevu', 'Portreitz', 'Airport', 'Miritini'],
            Jomvu: ['Jomvu Kuu', 'Mikindani', 'Magongo', 'Miritini'],
            Kisauni: ['Mjambere', 'Bamburi', 'Mwakirunge', 'Mtopanga', 'Shanzu', 'Nyali'],
            Nyali: ['Frere Town', 'Ziwa la Ngombe', 'Mkomani', 'Kongowea', 'Kadzandani'],
            Likoni: ['Likoni', 'Mtongwe', 'Shika Adabu', 'Bofu', 'Timbwani'],
            Mvita: ['Mji wa Kale', 'Tudor', 'Tononoka', 'Shimanzi', 'Majengo']
        }
    },
    Kiambu: {
        constituencies: ['Gatundu South', 'Gatundu North', 'Juja', 'Thika Town', 'Ruiru', 'Githunguri', 'Kiambu', 'Kiambaa', 'Kabete', 'Kikuyu', 'Limuru', 'Lari'],
        areas: {
            Thika: ['Thika', 'Kamenu', 'Gatuanyaga', 'Township', 'Hospital'],
            Ruiru: ['Ruiru', 'Kahawa', 'Membley', 'Kimbo', 'Juja Farm'],
            Kiambu: ['Kiambu Township', 'Ndumberi', 'Tinganga', 'Riabai', 'Muchatha'],
            Kikuyu: ['Kikuyu', 'Sigona', 'Karai', 'Nachu', 'Kinoo'],
            Limuru: ['Limuru', 'Rironi', 'Bibirioni', 'Tigoni', 'Ndeiya']
        }
    },
    Nakuru: {
        constituencies: ['Nakuru Town East', 'Nakuru Town West', 'Kuresoi South', 'Kuresoi North', 'Molo', 'Njoro', 'Naivasha', 'Gilgil', 'Subukia', 'Rongai', 'Bahati'],
        areas: {
            'Nakuru Town East': ['Biashara', 'Kivumbini', 'Flamingo', 'Menengai', 'Nakuru East'],
            'Nakuru Town West': ['Kaptembwa', 'London', 'Rhonda', 'Shaabab', 'Barut'],
            Naivasha: ['Naivasha', 'Hell\'s Gate', 'Mai Mahiu', 'Olkaria', 'Kongoni'],
            Gilgil: ['Gilgil', 'Elementaita', 'Mbaruk', 'Malewa West', 'Murunyu']
        }
    },
    Kisumu: {
        constituencies: ['Kisumu East', 'Kisumu West', 'Kisumu Central', 'Seme', 'Nyando', 'Muhoroni', 'Nyakach'],
        areas: {
            'Kisumu Central': ['Railways', 'Migosi', 'Shaurimoyo', 'Kondele', 'Nyalenda'],
            'Kisumu East': ['Kajulu', 'Kolwa East', 'Manyatta', 'Nyalenda A', 'Kolwa Central'],
            'Kisumu West': ['South West Kisumu', 'Central Kisumu', 'Kisumu North', 'West Kisumu', 'North West Kisumu']
        }
    },
    Uasin_Gishu: {
        constituencies: ['Soy', 'Turbo', 'Moiben', 'Ainabkoi', 'Kapseret', 'Kesses'],
        areas: {
            Eldoret: ['Eldoret', 'Pioneer', 'Langas', 'Huruma', 'Kimumu', 'Kapsoya'],
            Kapseret: ['Simat', 'Kipkenyo', 'Ngeria', 'Megun', 'Langas'],
            Kesses: ['Racecourse', 'Cheptiret', 'Tulwet', 'Tarakwa', 'Kamagut']
        }
    },
    Machakos: {
        constituencies: ['Masinga', 'Yatta', 'Kangundo', 'Matungulu', 'Kathiani', 'Mavoko', 'Machakos Town', 'Mwala'],
        areas: {
            'Machakos Town': ['Machakos', 'Mumbuni', 'Mutituni', 'Muvuti', 'Kalama'],
            Mavoko: ['Athi River', 'Kinanie', 'Muthwani', 'Syokimau', 'Katani'],
            Kangundo: ['Kangundo', 'Matuu', 'Tala', 'Kanzalu', 'Kawethei']
        }
    },
    Kajiado: {
        constituencies: ['Kajiado North', 'Kajiado Central', 'Kajiado East', 'Kajiado West', 'Kajiado South'],
        areas: {
            'Kajiado North': ['Oloolua', 'Ngong', 'Olkeri', 'Nkaimurunya', 'Ongata Rongai'],
            'Kajiado East': ['Kitengela', 'Kaputiei North', 'Oloosirkon', 'Sholinke', 'Kenyawa-Poka'],
            'Kajiado Central': ['Purko', 'Ildamat', 'Dalalekutuk', 'Matapato North', 'Matapato South']
        }
    }
};

export const getCounties = () => Object.keys(keLocations);

export const getConstituencies = (county) => {
    return keLocations[county]?.constituencies || [];
};

export const getAreas = (county, constituency) => {
    return keLocations[county]?.areas[constituency] || [];
};

// Format Kenyan phone number for M-Pesa
export const formatKenyanPhone = (phone) => {
    // Remove any spaces, dashes, or other characters
    let cleaned = phone.replace(/[\s\-\(\)]/g, '');
    
    // If it starts with +254, return as-is without the +
    if (cleaned.startsWith('+254')) {
        return cleaned.substring(1);
    }
    
    // If it starts with 254, return as-is
    if (cleaned.startsWith('254')) {
        return cleaned;
    }
    
    // If it starts with 0, replace with 254
    if (cleaned.startsWith('0')) {
        return '254' + cleaned.substring(1);
    }
    
    // If it starts with 7 or 1, add 254
    if (cleaned.startsWith('7') || cleaned.startsWith('1')) {
        return '254' + cleaned;
    }
    
    return cleaned;
};

// Validate Kenyan phone number
export const isValidKenyanPhone = (phone) => {
    const cleaned = phone.replace(/[\s\-\(\)+]/g, '');
    
    // Check for valid Kenyan mobile number patterns
    // Safaricom: 254 7XX XXX XXX or 254 11X XXX XXX
    // Airtel: 254 73X XXX XXX, 254 78X XXX XXX
    // Telkom: 254 77X XXX XXX
    
    const patterns = [
        /^254[71]\d{8}$/,        // 254 + 7 or 1 + 8 digits
        /^0[71]\d{8}$/,          // 0 + 7 or 1 + 8 digits
        /^[71]\d{8}$/            // 7 or 1 + 8 digits (without prefix)
    ];
    
    return patterns.some(pattern => pattern.test(cleaned));
};
